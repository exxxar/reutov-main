<template>
    <div class="test-block">
        <div style="white-space:nowrap" class="test-number number mr-2">
            {{ ordinalNumber }} <b>/   {{ questions }}</b>
        </div>
        <div class="test-main test-drag test-drag76">
            <div class="test-caption">
                <p>
                    Тройничный нерв. Блуждающий и языкоглоточный нервы
                    <span>
                    Вписать в схему:
                    <br />1. Трехнейронный чувствительный путь V пары. <br />2.
                    Двухнейронный двигательный путь V пары. <br />Выберите то
                    что нужно и наведите на рисунок, закрасьте все соответвующие
                    элементы.
                </span>
                </p>
                <div class="test-number number" style="width: 100%;">
                    <b>Карточка книги <span style="font-weight: 700; display: inline;">№{{ number }}</span></b>
                </div>
            </div>
            <div id="stage-parent76" class="test-compliance">
                <div
                    v-if="!completed"
                    id="question_76"
                    class="compliance-img"
                ></div>
                <div v-if="completed" id="question_76">
                    <div style="display: flex; justify-content: center;">
                        <img
                            :src="currentUrl + '/test-img/answer76.png'"
                            alt="courses"
                            v-bind:class="{
                                correct: correct == 1,
                                incorrect: correct == 0
                            }"
                        />
                    </div>
                </div>
            </div>
            <div class="swipe-block">
                <div class="row">
                    <div class="col-sm-2 col-3">
                        <img
                            :src="currentUrl + '/test-img/arm1.png'"
                            alt="courses"
                        />
                        <img
                            :src="currentUrl + '/test-img/arm2.png'"
                            alt="courses"
                        />
                    </div>
                    <div class="col-sm-10 col-9">
                        <p>
                            Перемешайте картинку вверх-вниз, влево-впарво и
                            увеличивайтечто бы увидеть ее целиком
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</template>

<script>
var stage76 = null;
export default {
    props: {
        number: {
            type: String,
            default: "01"
        },
        from: {
            type: String,
            default: "01"
        },
        completed: {
            type: Boolean
        },
        serverAnswers: {
            type: Array
        },
      questions: {
            type: Number,
        },
        ordinalNumber: {
            type: String,
            default: "01"
        },

    },
    created() {
        this.currentUrl = window.location.origin;
    },
    data() {
        return {
            body76: [
                {
                    id: 16,
                    data:
                        "M 19.50,112.58 C 19.50,112.58 19.68,126.65 19.68,126.65 19.68,126.65 30.08,120.79 30.08,120.79 30.08,120.79 29.96,117.27 29.96,117.27 29.96,117.27 19.50,112.58 19.50,112.58 Z"
                },
                {
                    id: 15,
                    data:
                        "M 156.64,190.39 C 156.64,190.39 155.53,188.57 155.53,188.57 155.53,188.57 147.24,188.48 147.24,188.48 147.24,188.48 146.19,190.36 146.19,190.36 146.19,190.36 138.25,190.33 138.25,190.33 138.25,190.33 136.79,187.37 136.79,187.37 136.79,187.37 129.66,185.52 129.66,185.52 129.66,185.52 126.74,186.82 126.74,186.82 124.92,185.85 122.26,182.94 121.73,180.75 121.73,180.75 123.02,178.40 123.02,178.40 123.02,178.40 121.70,170.75 121.70,170.75 121.70,170.75 119.03,169.62 119.03,169.62 119.03,169.62 118.86,161.32 118.88,161.29 118.92,161.26 121.09,160.06 121.09,160.06 121.09,160.06 120.26,151.94 120.26,151.94 120.26,151.94 117.19,150.83 117.19,150.83 117.19,150.83 116.66,143.15 116.66,143.15 116.66,143.15 119.35,141.54 119.35,141.54 119.35,141.54 118.39,133.63 118.39,133.63 118.39,133.63 114.87,132.11 114.87,132.11 114.87,132.11 114.17,124.83 114.17,124.83 114.17,124.83 116.33,122.73 116.33,122.73 116.33,122.73 115.40,115.43 115.40,115.43 115.40,115.43 111.80,113.82 111.80,113.82 111.80,113.82 110.49,106.23 110.49,106.23 110.49,106.23 110.57,103.54 110.57,103.54 108.22,102.23 106.71,101.86 103.13,102.01 103.13,102.01 102.05,104.97 102.05,104.97 102.05,104.97 95.13,106.99 95.13,106.99 95.13,106.99 91.56,104.45 91.56,104.45 91.56,104.45 85.06,106.25 85.06,106.25 85.06,106.25 83.89,109.95 83.89,109.95 83.89,109.95 77.01,111.98 77.01,111.98 77.01,111.98 74.07,109.36 74.07,109.36 74.07,109.36 66.66,111.15 66.66,111.15 66.66,111.15 65.52,114.46 65.52,114.46 65.52,114.46 58.90,116.07 58.90,116.07 58.90,116.07 55.80,114.05 55.80,114.05 55.80,114.05 48.82,115.63 48.82,115.63 48.82,115.63 46.16,119.09 46.13,119.09 46.10,119.09 39.83,120.09 39.83,120.09 39.83,120.09 37.96,117.71 37.96,117.71 37.96,117.71 29.99,117.30 29.99,117.30 29.99,117.30 30.08,120.79 30.08,120.79 30.08,120.79 38.48,119.85 38.48,119.85 38.48,119.85 39.34,117.22 39.34,117.22 39.34,117.22 46.95,115.99 46.95,115.99 46.95,115.99 48.97,118.04 48.97,118.04 48.97,118.04 56.59,116.43 56.59,116.43 56.59,116.43 58.20,113.70 58.20,113.70 58.20,113.70 65.14,112.35 65.14,112.35 65.14,112.35 67.75,113.64 67.75,113.64 67.75,113.64 75.07,111.67 75.07,111.67 75.07,111.67 76.07,108.83 76.07,108.83 76.07,108.83 82.33,106.85 82.33,106.85 82.33,106.85 86.05,109.33 86.05,109.33 86.05,109.33 93.23,107.34 93.23,107.34 93.23,107.34 94.31,103.80 94.31,103.80 94.31,103.80 100.49,101.92 100.49,101.92 100.49,101.92 103.60,104.32 103.60,104.32 106.56,104.14 107.67,104.67 109.66,105.91 109.66,105.91 113.33,106.05 113.33,106.05 113.33,106.05 114.46,113.62 114.50,113.62 114.53,113.62 112.36,115.63 112.36,115.63 112.36,115.63 113.52,123.28 113.52,123.28 113.52,123.28 116.63,124.93 116.63,124.93 116.63,124.93 117.27,132.04 117.27,132.04 117.27,132.04 115.26,134.21 115.26,134.21 115.26,134.21 115.87,141.63 115.87,141.63 115.87,141.63 119.15,143.15 119.15,143.15 119.15,143.15 120.00,150.59 120.00,150.59 120.00,150.59 117.81,152.30 117.81,152.30 117.81,152.30 117.89,159.42 117.89,159.42 117.89,159.42 121.49,161.99 121.49,161.99 121.49,161.99 121.61,169.47 121.61,169.47 121.61,169.47 119.09,170.90 119.09,170.90 119.09,170.90 120.29,178.93 120.29,178.93 120.29,178.93 124.57,180.10 124.57,180.10 124.57,180.10 128.20,184.42 128.20,184.42 128.20,184.42 128.99,188.37 128.99,188.37 128.99,188.37 136.79,189.45 136.79,189.45 136.79,189.45 138.28,187.43 138.28,187.43 138.28,187.43 144.87,187.40 144.87,187.40 144.87,187.40 147.47,190.57 147.47,190.57 147.47,190.57 155.33,190.44 155.33,190.44 155.33,190.44 156.55,188.48 156.55,188.48 156.55,188.48 162.15,188.46 162.15,188.46 162.15,188.46 168.74,183.48 168.74,183.48 168.74,183.48 170.20,185.56 170.20,185.56 170.20,185.56 165.11,189.74 165.11,189.74 165.11,189.74 170.47,193.32 170.47,193.32 170.47,193.32 168.56,195.28 168.56,195.28 168.56,195.28 162.18,190.42 162.18,190.42 162.26,190.48 156.64,190.39 156.64,190.39 Z"
                },
                {
                    id: 14,
                    data:
                        "M 183.11,201.19 C 189.08,200.84 192.66,196.84 191.80,190.78 191.80,185.92 189.33,182.26 182.60,182.17 176.04,182.26 172.80,186.01 172.88,191.55 172.97,198.72 177.15,201.53 183.11,201.19 Z"
                },
                {
                    id: 15,
                    data:
                        "M 181.92,173.40 C 181.30,172.35 182.01,169.82 182.61,168.95 182.61,168.95 185.50,167.77 185.50,167.77 185.50,167.77 187.13,160.35 187.13,160.35 187.13,160.35 185.46,157.99 185.46,157.99 185.46,157.99 186.15,150.82 186.15,150.82 186.15,150.82 188.60,148.61 188.60,148.57 188.60,148.53 188.72,141.64 188.72,141.64 188.72,141.64 186.36,139.69 186.36,139.69 186.36,139.69 187.33,132.67 187.33,132.67 187.33,132.67 190.35,131.12 190.35,131.12 190.35,131.12 193.24,123.99 193.24,123.99 193.24,123.99 191.65,121.21 191.65,121.21 191.65,121.21 195.04,115.38 195.04,115.38 195.04,115.38 198.82,115.10 198.86,115.10 198.91,115.10 203.63,109.39 203.63,109.39 203.63,109.39 203.55,106.29 203.55,106.29 203.55,106.29 209.42,102.34 209.42,102.34 209.42,102.34 213.13,103.64 213.13,103.64 213.13,103.64 219.20,101.24 219.20,101.24 219.20,101.24 220.18,98.18 220.18,98.18 220.18,98.18 226.98,96.43 226.98,96.43 226.98,96.43 230.49,98.50 230.49,98.50 230.49,98.50 236.89,96.71 236.89,96.71 236.89,96.71 238.19,93.45 238.11,93.45 238.03,93.45 245.89,92.14 245.89,92.14 245.89,92.14 248.13,94.99 248.13,94.99 248.13,94.99 254.98,94.05 254.98,94.05 254.98,94.05 256.90,91.17 256.90,91.17 256.90,91.17 264.23,91.20 264.23,91.20 264.23,91.20 266.31,93.74 266.31,93.74 266.31,93.74 273.65,93.93 273.65,93.93 273.65,93.93 273.68,91.65 273.68,91.65 273.68,91.65 266.59,91.57 266.59,91.57 266.59,91.57 264.07,93.93 264.07,93.93 264.07,93.93 257.63,93.74 257.63,93.74 257.63,93.74 254.57,91.65 254.57,91.65 254.57,91.65 247.72,92.02 247.72,92.02 247.72,92.02 246.22,94.51 246.22,94.51 246.22,94.51 239.58,95.73 239.58,95.73 239.58,95.73 236.16,94.38 236.16,94.38 236.16,94.38 229.75,95.56 229.75,95.56 229.75,95.56 228.09,98.67 228.09,98.67 228.09,98.67 221.68,100.62 221.68,100.62 221.68,100.62 217.61,98.34 217.61,98.34 217.61,98.34 211.37,101.28 211.37,101.28 211.37,101.28 210.97,104.70 210.97,104.70 210.97,104.70 205.30,108.29 205.35,108.29 205.39,108.29 201.88,107.76 201.88,107.76 201.88,107.76 196.83,113.26 196.83,113.26 196.83,113.26 197.61,117.01 197.61,117.01 197.61,117.01 194.26,122.52 194.26,122.52 194.26,122.52 191.29,123.05 191.29,123.05 191.29,123.05 188.15,129.49 188.15,129.49 188.15,129.49 190.30,132.83 190.30,132.83 190.30,132.83 188.96,139.60 188.96,139.60 188.96,139.60 186.36,141.72 186.36,141.72 186.36,141.72 186.31,148.98 186.31,148.98 186.31,148.98 188.88,151.01 188.88,151.01 188.88,151.01 187.99,158.03 187.99,158.03 187.99,158.03 184.80,159.95 184.80,159.95 184.80,159.95 183.55,167.32 183.55,167.32 183.55,167.32 185.05,169.07 185.05,169.07 185.05,169.07 183.95,173.44 183.95,173.44 183.95,173.44 189.82,178.45 189.82,178.45 189.82,178.45 188.11,180.20 188.11,180.20 188.11,180.20 182.93,175.81 182.93,175.81 182.93,175.81 178.78,179.84 178.78,179.84 178.78,179.84 176.99,178.21 176.99,178.13 176.99,178.05 181.92,173.40 181.92,173.40 Z"
                },
                {
                    id: 16,
                    data:
                        "M 285.61,84.37 C 285.61,84.37 287.69,98.26 287.69,98.26 287.69,98.26 273.95,93.42 273.95,93.42 273.95,93.42 285.61,84.37 285.61,84.37 Z"
                },
                {
                    id: 33,
                    data:
                        "M 121.85,79.53 C 121.85,79.53 123.02,76.25 127.88,76.48 132.68,76.78 134.56,79.42 134.44,82.93 134.32,86.45 132.39,89.03 127.94,89.14 123.49,89.26 121.38,85.92 121.49,82.99 102.92,68.63 87.81,64.18 65.14,58.61 65.14,59.55 65.03,61.95 65.03,61.95 65.03,61.95 57.46,56.79 57.46,56.79 57.46,56.79 66.19,53.86 66.19,53.86 66.19,53.86 65.32,56.68 65.32,56.68 95.95,59.76 121.85,79.53 121.85,79.53 Z"
                },
                {
                    id: 13,
                    data:
                        "M 194.00,480.45 C 197.48,480.51 197.27,479.82 198.27,476.45 198.38,473.27 195.67,471.86 193.45,471.82 189.98,471.99 189.27,475.00 189.27,475.00 184.84,475.57 138.02,473.13 135.82,452.33 132.76,433.57 131.39,334.86 131.39,334.94 131.39,335.02 135.65,362.13 179.02,361.80 180.45,363.73 182.00,365.20 184.64,365.20 187.29,365.20 189.75,363.59 189.67,359.49 189.58,355.40 186.52,354.55 184.31,354.55 182.15,353.92 179.34,356.36 179.10,358.64 152.47,359.16 137.10,347.82 131.56,326.33 131.56,319.68 130.45,278.85 130.45,278.85 137.36,294.02 162.83,298.80 180.04,299.48 180.12,302.50 182.94,303.66 185.07,303.74 187.20,303.83 190.35,302.29 190.10,298.54 190.44,294.79 187.29,292.91 184.98,292.91 180.47,293.85 179.94,296.47 179.94,296.47 179.94,296.47 138.11,296.07 130.53,272.88 130.53,272.88 129.60,228.64 129.60,228.72 140.13,252.52 171.01,251.57 180.56,251.57 181.19,253.12 183.77,253.77 185.41,253.70 187.12,253.79 190.27,252.50 190.10,248.33 189.93,244.15 186.77,243.30 184.98,243.21 181.09,243.33 179.94,246.73 179.62,249.10 179.62,249.02 140.63,252.48 129.18,220.62 129.18,220.62 129.51,198.03 129.51,198.03 143.36,224.06 171.61,221.99 172.97,221.64 172.38,221.05 177.37,230.61 183.02,229.41 187.29,229.41 191.89,226.25 192.23,220.03 192.56,213.80 187.97,209.97 182.85,210.31 176.55,209.88 172.80,218.49 172.80,218.49 172.80,218.49 146.21,222.11 129.77,193.86 128.93,181.06 130.22,95.74 130.22,95.74 130.22,95.74 135.79,91.58 135.79,91.58 135.79,91.58 134.18,89.38 134.18,89.38 134.18,89.38 129.19,92.99 129.19,92.99 129.19,92.99 124.27,89.00 124.27,89.00 124.27,89.00 122.52,90.78 122.52,90.78 122.52,90.78 127.49,95.67 127.49,95.67 123.97,137.05 132.11,451.47 132.32,451.33 137.46,479.62 185.75,475.06 189.00,477.55 189.15,478.76 190.57,480.74 194.00,480.45 Z"
                },
                {
                    id: 15,
                    data:
                        "M 202.37,189.46 C 202.37,189.46 204.14,193.05 204.14,193.05 204.14,193.05 210.66,193.77 210.66,193.77 210.66,193.77 214.51,191.93 214.51,191.93 214.51,191.93 220.24,193.36 220.24,193.36 220.24,193.36 221.22,196.67 221.22,196.65 221.22,196.63 226.94,198.99 226.94,198.99 226.94,198.99 231.57,197.20 231.57,197.20 231.57,197.20 237.51,200.51 237.51,200.51 237.51,200.51 238.05,203.74 238.05,203.74 238.05,203.74 243.42,206.86 243.42,206.86 243.42,206.86 248.34,206.32 248.34,206.32 248.34,206.32 252.76,210.43 252.76,210.43 252.76,210.43 253.25,214.57 253.25,214.57 253.25,214.57 257.09,218.51 257.09,218.51 257.09,218.51 260.58,218.61 260.58,218.61 260.58,218.61 265.31,223.37 265.31,223.37 265.31,223.37 265.25,226.64 265.25,226.64 265.25,226.64 270.67,230.87 270.67,230.87 270.67,230.87 275.00,230.51 275.00,230.51 275.00,230.51 279.91,233.51 279.91,233.53 279.91,233.56 280.18,236.75 280.18,236.77 280.18,236.79 286.24,240.16 286.24,240.16 286.24,240.16 291.03,239.10 291.03,239.10 291.03,239.10 296.24,241.83 296.24,241.83 296.24,241.83 297.66,245.00 297.66,245.00 297.66,245.00 303.68,247.08 303.68,247.08 303.68,247.08 306.97,245.29 306.97,245.29 306.97,245.29 313.53,247.17 313.53,247.17 313.53,247.17 314.99,250.17 314.99,250.17 314.99,250.17 321.84,251.42 321.84,251.44 321.84,251.46 324.78,249.66 324.78,249.66 324.78,249.66 330.92,253.04 330.92,253.04 330.92,253.04 331.67,256.48 331.67,256.48 331.67,256.48 336.04,260.77 336.04,260.77 336.04,260.77 338.94,260.71 338.94,260.71 338.94,260.71 343.19,265.96 343.19,265.96 343.19,265.96 342.23,269.28 342.23,269.28 342.23,269.28 343.11,271.82 343.11,271.82 343.11,271.82 339.36,271.30 339.36,271.30 339.36,271.30 346.69,278.76 346.69,278.76 346.69,278.76 347.66,269.51 347.66,269.51 347.66,269.51 345.23,271.40 345.23,271.40 345.23,271.40 344.21,268.79 344.21,268.79 344.21,268.79 341.07,268.04 341.07,268.04 341.07,268.04 337.32,262.72 337.32,262.72 337.32,262.72 338.42,258.69 338.42,258.69 338.42,258.69 333.57,254.11 333.57,254.11 333.57,254.11 329.71,255.03 329.71,255.03 329.71,255.03 323.70,252.19 323.70,252.19 323.70,252.19 322.24,248.62 322.24,248.62 322.24,248.62 315.76,247.27 315.76,247.27 315.76,247.27 312.26,249.52 312.26,249.52 312.26,249.52 306.18,247.71 306.18,247.71 306.18,247.71 304.80,244.66 304.80,244.66 304.80,244.66 298.51,242.60 298.53,242.60 298.55,242.60 295.47,243.88 295.47,243.88 295.47,243.88 288.85,241.04 288.85,241.04 288.85,241.04 287.83,237.62 287.83,237.62 287.83,237.62 282.80,234.85 282.80,234.85 282.80,234.85 277.41,235.56 277.41,235.56 277.41,235.56 272.77,231.72 272.77,231.72 272.77,231.72 272.78,228.70 272.78,228.70 272.78,228.70 267.60,224.91 267.54,224.91 267.48,224.91 262.71,225.14 262.71,225.16 262.71,225.18 258.28,219.99 258.28,219.99 258.28,219.99 259.29,216.33 259.29,216.33 259.29,216.33 254.71,211.84 254.73,211.84 254.75,211.84 250.44,211.93 250.44,211.93 250.44,211.93 245.57,208.11 245.57,208.11 245.57,208.11 245.48,204.63 245.48,204.63 245.48,204.63 240.17,201.46 240.17,201.46 240.17,201.46 235.61,202.45 235.61,202.45 235.61,202.45 229.65,199.57 229.65,199.57 229.65,199.57 228.30,195.88 228.30,195.86 228.30,195.84 222.26,193.94 222.28,193.94 222.30,193.94 218.91,195.84 218.91,195.84 218.91,195.84 212.97,194.21 212.97,194.21 212.97,194.21 210.85,191.03 210.85,191.03 210.85,191.03 203.87,190.14 203.87,190.14 203.87,190.14 202.26,192.24 202.26,192.24 202.26,192.24 198.96,191.85 198.96,191.85 198.96,191.85 196.62,195.90 196.62,195.90 196.62,195.90 194.57,194.76 194.57,194.76 194.57,194.76 196.83,191.01 196.83,191.01 196.83,191.01 194.40,186.43 194.40,186.43 194.40,186.43 196.57,185.26 196.57,185.26 196.57,185.26 198.96,189.54 198.96,189.54 198.96,189.54 202.37,189.46 202.37,189.46 Z"
                },
                {
                    id: 13,
                    data:
                        "M 363.55,278.62 C 363.55,278.62 362.37,280.74 362.37,280.74 362.37,280.74 357.98,279.36 357.98,279.36 357.98,279.36 354.37,282.46 354.37,282.46 354.37,282.46 351.77,280.59 351.77,280.59 351.77,280.59 355.83,277.23 355.83,277.23 355.83,277.23 348.89,243.45 315.26,239.72 308.77,237.40 244.76,231.08 237.47,231.79 229.63,232.22 214.38,244.15 208.24,259.92 201.68,271.43 198.62,344.66 198.81,353.41 198.81,353.41 194.31,359.07 194.31,359.07 194.31,359.07 192.30,363.15 192.30,363.15 192.30,363.15 190.35,362.54 190.35,362.54 190.35,362.54 192.35,357.76 192.35,357.76 192.35,357.76 189.73,353.65 189.73,353.65 189.73,353.65 191.57,352.26 191.57,352.26 191.57,352.26 194.14,356.18 194.14,356.18 194.14,356.18 196.57,352.77 196.57,352.77 194.93,327.28 199.39,292.66 199.39,292.66 199.39,292.66 193.16,298.03 193.16,298.03 193.16,298.03 191.25,302.05 191.25,302.05 191.25,302.05 189.98,300.99 189.98,300.99 189.98,300.99 191.32,296.81 191.32,296.81 191.32,296.81 188.91,292.49 188.91,292.40 188.91,292.32 190.78,291.21 190.78,291.21 190.78,291.21 192.99,294.96 193.08,294.96 193.16,294.96 199.58,287.53 199.58,287.57 200.32,264.93 209.84,251.31 209.84,251.31 209.84,251.31 194.54,250.48 194.54,250.48 194.54,250.48 192.48,254.73 192.48,254.73 192.48,254.73 190.52,253.61 190.52,253.61 190.52,253.61 192.23,249.61 192.23,249.61 192.23,249.61 190.01,245.43 190.01,245.43 190.01,245.43 191.63,244.06 191.63,244.06 191.63,244.06 194.62,247.82 194.62,247.73 194.62,247.65 211.57,248.33 211.57,248.33 211.57,248.33 220.15,233.91 231.15,231.15 231.15,231.15 199.20,226.18 199.20,226.18 199.20,226.18 197.08,230.26 197.08,230.26 197.08,230.26 194.62,229.49 194.62,229.49 194.62,229.49 196.91,224.97 196.91,224.97 196.91,224.97 194.27,221.64 194.27,221.64 194.27,221.64 196.49,219.26 196.49,219.26 196.49,219.26 199.12,223.95 199.12,223.95 199.12,223.95 283.73,232.50 283.74,232.47 283.74,232.47 283.94,227.87 283.94,227.87 283.94,227.87 278.74,225.09 278.65,221.27 278.58,217.43 281.96,214.21 285.59,214.54 286.56,214.58 292.47,215.07 292.35,220.86 292.39,226.08 287.19,227.90 287.19,227.90 287.19,227.90 287.06,233.16 287.06,233.16 287.06,233.16 308.49,236.87 315.78,235.62 339.88,231.07 356.33,212.10 356.33,212.10 356.33,212.10 355.99,207.76 355.99,207.76 355.99,207.76 359.18,207.65 359.18,207.65 359.18,207.65 358.69,212.22 358.69,212.22 358.69,212.22 363.02,215.13 363.02,215.13 363.02,215.13 361.24,217.11 361.24,217.11 361.19,217.25 358.00,214.41 358.00,214.41 358.00,214.41 340.65,232.81 325.57,235.97 345.14,235.05 373.75,241.50 373.75,241.50 373.75,241.50 377.67,239.77 377.67,239.77 377.67,239.77 379.18,241.05 379.18,241.05 379.18,241.05 375.38,244.28 375.38,244.28 375.38,244.28 374.81,249.79 374.81,249.79 374.81,249.79 371.87,249.59 371.87,249.59 371.87,249.59 372.10,244.19 372.10,244.19 355.45,239.30 322.66,238.43 322.09,238.27 350.53,242.39 358.81,276.80 358.81,276.80 358.81,276.80 363.55,278.62 363.55,278.62 Z"
                }
            ],
            complited76: false,
            icons: [
                {
                    icon: "test-img/circle1(74-a).png",
                    id: 13
                },
                {
                    icon: "test-img/icon14.png",
                    id: 14
                },
                {
                    icon: "test-img/icon15.png",
                    id: 15
                },
                {
                    icon: "test-img/icon16.png",
                    id: 16
                }
            ],
            draggetItem: null,
            question_76Width: 645,
            question_76Height: 450
        };
    },
    watch: {
        complited76: {
            handler: function(newVal, oldVal) {
                this.$emit("answer", {
                    question_index: 76,
                    answer: [{ result: this.complited76 }]
                });
            },
            deep: true
        }
    },
    mounted() {
        if (!this.completed) this.onStart();
    },
    methods: {
        fitStageIntoParentContainer() {
            var container = document.querySelector("#stage-parent76");

            // now we need to fit stage into parent
            //var containerWidth = container.offsetWidth;
            // to do this we need to scale the stage
            var scale = 0.94;

            stage76.width(this.question_76Width * scale);
            stage76.height(this.question_76Height);
            stage76.scale({
                x: scale,
                y: scale
            });
            stage76.draw();
        },

        onStart() {
            let self = this;
            stage76 = new Konva.Stage({
                container: "question_76",
                width: this.question_76Width,
                height: this.question_76Height
            });

            var templayer76 = new Konva.Layer();
            var layer76 = new Konva.Layer();
            var group76 = new Konva.Group();
            var counter76 = 0;
            stage76.add(layer76);
            stage76.add(templayer76);
            var path76Front;

            var test77one;
            Konva.Image.fromURL(
                `${this.currentUrl}/test-img/test87.png`,
                function(test77one) {
                    test77one.setAttrs({
                        x: 0,
                        y: 0,
                        scaleX: 1,
                        scaleY: 1
                    });
                    templayer76.add(test77one);
                    templayer76.batchDraw();
                }
            );

            for (var i = 0; i < this.body76.length; i++) {
                path76Front = new Konva.Path({
                    x: -10,
                    y: -10,
                    fill: "#f5f5f5", //"",
                    data: this.body76[i].data,
                    numPoints: 10,
                    innerRadius: 20,
                    outerRadius: 25,
                    scaleX: 1,
                    scaleY: 1,
                    id: this.body76[i].id
                });
                layer76.add(path76Front);
            }

            var borderOfRect76;
            var dot76 = new Image();
            var dottedLine76 = new Image();
            var arrowRight76 = new Image();
            var chevroneRight76 = new Image();
            var line76 = new Image();

            borderOfRect76 = new Konva.Rect({
                cornerRadius: 5,
                x: 480,
                y: 5,
                width: 118,
                height: 54,
                fill: "#f5f5f5",
                stroke: "#e6e6e6",
                strokeWidth: 1
            });
            group76.add(borderOfRect76);

            borderOfRect76 = new Konva.Rect({
                cornerRadius: 5,
                x: 480,
                y: 215,
                width: 118,
                height: 54,
                fill: "#f5f5f5",
                stroke: "#e6e6e6",
                strokeWidth: 1
            });
            group76.add(borderOfRect76);

            borderOfRect76 = new Konva.Rect({
                cornerRadius: 5,
                x: 480,
                y: 75,
                width: 118,
                height: 54,
                fill: "#f5f5f5",
                stroke: "#e6e6e6",
                strokeWidth: 1
            });
            group76.add(borderOfRect76);

            borderOfRect76 = new Konva.Rect({
                cornerRadius: 5,
                x: 480,
                y: 285,
                width: 118,
                height: 54,
                fill: "#f5f5f5",
                stroke: "#e6e6e6",
                strokeWidth: 1
            });
            group76.add(borderOfRect76);

            borderOfRect76 = new Konva.Rect({
                cornerRadius: 5,
                x: 480,
                y: 145,
                width: 118,
                height: 54,
                fill: "#f5f5f5",
                stroke: "#e6e6e6",
                strokeWidth: 1
            });
            group76.add(borderOfRect76);

            Konva.Image.fromURL(
                `${this.currentUrl}/test-img/icon13.png`,
                function(line76) {
                    line76.setAttrs({
                        x: 525,
                        y: 100,
                        scaleX: 1.2,
                        scaleY: 1.2,
                        draggable: true,
                        name: "line",
                        id: 13
                    });
                    templayer76.add(line76);
                    templayer76.batchDraw();
                }
            );

            Konva.Image.fromURL(
                `${this.currentUrl}/test-img/icon14.png`,
                function(dot76) {
                    dot76.setAttrs({
                        x: 547,
                        y: 162,
                        scaleX: 1.2,
                        scaleY: 1.2,
                        draggable: true,
                        name: "Image dot",
                        id: 14
                    });
                    dot76.rotate(77);
                    templayer76.add(dot76);
                    templayer76.batchDraw();
                }
            );
            Konva.Image.fromURL(
                `${this.currentUrl}/test-img/icon14.png`,
                function(dot76) {
                    dot76.setAttrs({
                        x: 542,
                        y: 27,
                        scaleX: 0.75,
                        scaleY: 0.75,
                        draggable: true,
                        name: "Image dot",
                        id: 33
                    });
                    dot76.rotate(77);
                    templayer76.add(dot76);
                    templayer76.batchDraw();
                }
            );

            Konva.Image.fromURL(
                `${this.currentUrl}/test-img/icon15.png`,
                function(dottedLine76) {
                    dottedLine76.setAttrs({
                        x: 522,
                        y: 240,
                        scaleX: 2,
                        scaleY: 5,
                        draggable: true,
                        name: "Image dotted line",
                        id: 15
                    });
                    templayer76.add(dottedLine76);
                    templayer76.batchDraw();
                }
            );
            Konva.Image.fromURL(
                `${this.currentUrl}/test-img/icon16.png`,
                function(arrowRight76) {
                    arrowRight76.setAttrs({
                        x: 533,
                        y: 305,
                        scaleX: 1.2,
                        scaleY: 1.2,
                        draggable: true,
                        name: "Image arrow right",
                        id: 16
                    });
                    templayer76.add(arrowRight76);
                    templayer76.batchDraw();
                }
            );

            borderOfRect76 = new Konva.Rect({
                cornerRadius: 5,
                x: 480,
                y: 355,
                width: 118,
                height: 54,
                fill: "#f5f5f5",
                stroke: "#e6e6e6",
                strokeWidth: 1
            });
            group76.add(borderOfRect76);
            var text76;
            text76 = new Konva.Text({
                x: 513,
                y: 377,
                draggable: false,
                fill: "black",
                text: "Очистить"
            });
            group76.add(text76);
            var signature76;
            signature76 = new Konva.Text({
                width: 110,
                height: 200,
                x: 352,
                y: 175,
                draggable: false,
                fill: "black",
                text: "чувствительные волокна I ветви"
            });
            group76.add(signature76);
            signature76.fontSize(12);
            signature76.fontStyle("italic");
            signature76 = new Konva.Text({
                width: 110,
                height: 200,
                x: 367,
                y: 230,
                draggable: false,
                fill: "black",
                text: "чувствительные волокна II ветви"
            });
            group76.add(signature76);
            signature76.fontSize(12);
            signature76.fontStyle("italic");

            signature76 = new Konva.Text({
                width: 110,
                height: 200,
                x: 340,
                y: 270,
                draggable: false,
                fill: "black",
                text: "смешаная III ветвь V пары"
            });
            group76.add(signature76);
            signature76.fontSize(12);
            signature76.fontStyle("italic");

            templayer76.add(group76);
            templayer76.draw();
            var targetPositionX;
            var targetPositionY;
            stage76.on("dragstart", function(e) {
                e.target.moveTo(templayer76);
                targetPositionX = e.target.attrs.x;
                targetPositionY = e.target.attrs.y;
                self.draggetItem = e.target.attrs.id;
                //console.log(targetPositionX)
                //console.log('Moving ' + e.target.name());
                layer76.draw();
            });

            var previousShape;
            stage76.on("dragmove", function(evt) {
                var pos = stage76.getPointerPosition();
                var shape = layer76.getIntersection(pos);
                if (previousShape && shape) {
                    if (previousShape !== shape) {
                        // leave from old targer
                        previousShape.fire(
                            "dragleave",
                            {
                                type: "dragleave",
                                target: previousShape,
                                evt: evt.evt
                            },
                            true
                        );

                        // enter new targer
                        shape.fire(
                            "dragenter",
                            {
                                type: "dragenter",
                                target: shape,
                                evt: evt.evt
                            },
                            true
                        );
                        previousShape = shape;
                    } else {
                        previousShape.fire(
                            "dragover",
                            {
                                type: "dragover",
                                target: previousShape,
                                evt: evt.evt
                            },
                            true
                        );
                    }
                } else if (!previousShape && shape) {
                    previousShape = shape;
                    shape.fire(
                        "dragenter",
                        {
                            type: "dragenter",
                            target: shape,
                            evt: evt.evt
                        },
                        true
                    );
                } else if (previousShape && !shape) {
                    previousShape.fire(
                        "dragleave",
                        {
                            type: "dragleave",
                            target: previousShape,
                            evt: evt.evt
                        },
                        true
                    );
                    previousShape = undefined;
                }
            });

            stage76.on("dragend", function(e) {
                var pos = stage76.getPointerPosition();
                var shape = layer76.getIntersection(pos);
                if (shape) {
                    previousShape.fire(
                        "drop",
                        {
                            type: "drop",
                            target: previousShape,
                            evt: e.evt
                        },
                        true
                    );
                }
                if (previousShape != undefined) {
                    e.target.setAttrs({
                        x: targetPositionX,
                        y: targetPositionY
                    });
                }
                console.log(counter76);
                if (counter76 === 9) {
                    self.complited76 = true;
                    console.log(self.complited76);
                }
                previousShape = undefined;
                layer76.draw();
                templayer76.draw();
            });

            stage76.on("dragenter", function(e) {
                //e.target.fill("red");
                layer76.draw();
            });

            stage76.on("dragleave", function(e) {
                e.target.fill("#f5f5f5");
                layer76.draw();
            });

            stage76.on("dragover", function(e) {
                layer76.draw();
            });

            stage76.on("drop", function(e) {
                if (e.target.attrs.id === self.draggetItem) {
                    e.target.fill("black");
                    e.target.moveTo(templayer76);
                    counter76++;
                } else {
                    e.target.fill("#f5f5f5");
                }
                layer76.draw();
            });
            this.fitStageIntoParentContainer();
            text76.on("click", this.onStart);
            text76.on("tap", this.onStart);
        }
    },
    computed: {
        currentQuestionAnswers() {
            if (!this.serverAnswers) {
                return null;
            }

            return this.serverAnswers.find(x => x.question_index == "76");
        },
        correct() {
            if (!this.serverAnswers) {
                return null;
            }

            try {
                if (this.currentQuestionAnswers.answer[0].result) {
                    return 1;
                } else {
                    return 0;
                }
            } catch (error) {
                return 0;
            }
        }
    }
};
</script>

<style>
.drag,
.drop {
    display: inline-block;
}

.drop.allowed {
    background-color: #dfd;
}
</style>
