<template>
    <div class="test-block">
        <div class="test-number number">
            {{ ordinalNumber }} <b>/   {{ questions }}</b>
        </div>
        <div class="test-main test-course-of-the-first-neurons">
            <div class="test-caption">
                <p>
                    Раскрасить территории иннервации указанных нервов в соответствии
                    с обозначениями.
                    <span class="mt-3">
                    Выберите то что нужно и наведите на рисунок, закрасьте все
                    соответвующие элементы.
                </span>
                </p>
                <div class="test-number number" style="width: 100%;">
                    <b>Карточка книги <span style="font-weight: 700; display: inline;">№{{ number }}</span></b>
                </div>
            </div>
            <div id="test-compliance"></div>
            <div class="test-compliance test-compliance__img" id="stage-parent">
                <div
                    v-if="!completed"
                    class="compliance-img"
                    id="question_30"
                ></div>
                <div v-if="completed" class="compliance-img" id="question_30">
                    <img
                        v-bind:class="{
                            correct: correct == 1,
                            incorrect: correct == 0
                        }"
                        :src="currentUrl + '/test-img/answer30.png'"
                        alt="courses"
                    />
                </div>
            </div>
        </div>
    </div>
</template>

<script>
var stage30 = null;
export default {
    props: {
        completed: {
            type: Boolean
        },
        serverAnswers: {
            type: Array
        },
      questions: {
            type: Number,
        },
        ordinalNumber: {
            type: String,
            default: "01"
        },
    },
    data() {
        return {
            currentUrl: "",
            answers: [],
            correctAnswers: [
                { result: "a path piece 9 rectungle0" },
                { result: "a path piece 16 rectungle1" },
                { result: "a path piece 15 rectungle1" },
                { result: "a path piece 17 rectungle2" },
                { result: "a path piece 14 rectungle2" },
                { result: "part of leg 2 rectungle3" },
                { result: "part of leg 9 rectungle3" },
                { result: "part of leg 13 rectungle4" },
                { result: "part of leg 10 rectungle3" },
                { result: "part of leg 7 rectungle4" },
                { result: "part of leg 11 rectungle4" },
                { result: "part of leg 12 rectungle4" }
            ],

            list: [
                "M 0.00,0.00 C 0.00,0.00 33.00,0.00 33.00,0.00 30.38,3.41 26.96,6.12 25.00,10.00 20.72,18.46 24.05,25.65 32.00,30.10 42.80,36.14 54.31,33.94 64.96,42.53 75.39,50.94 78.33,66.41 80.00,79.00 80.00,79.00 50.00,67.26 50.00,67.26 50.00,67.26 32.04,60.44 32.04,60.44 32.04,60.44 14.83,43.91 14.83,43.91 14.83,43.91 0.60,28.91 0.60,28.91 0.60,28.91 0.00,22.00 0.00,22.00 0.00,22.00 0.00,0.00 0.00,0.00 Z",
                "M 260.00,0.00 C 260.00,0.00 285.00,0.00 285.00,0.00 282.86,7.38 282.58,13.01 279.04,20.00 275.25,27.48 272.40,30.59 266.92,36.51 266.92,36.51 261.79,42.70 261.79,42.70 255.28,49.15 241.20,55.72 233.00,60.60 222.54,66.84 216.84,73.18 204.00,75.00 204.01,64.18 205.53,54.37 213.30,46.17 227.91,30.74 256.12,27.41 260.00,0.00 Z",
                "M 287.00,0.00 C 287.00,0.00 295.00,0.00 295.00,0.00 295.00,0.00 295.00,120.00 295.00,120.00 295.00,120.00 295.00,155.00 295.00,155.00 295.00,155.00 294.00,172.00 294.00,172.00 294.00,172.00 287.87,160.00 287.87,160.00 287.87,160.00 275.25,130.00 275.25,130.00 275.25,130.00 265.00,112.00 265.00,112.00 265.00,112.00 262.00,127.00 262.00,127.00 256.35,119.01 242.42,103.71 239.80,95.00 238.45,90.53 238.99,72.79 239.00,67.00 239.00,64.72 238.78,61.35 240.02,59.39 241.30,57.37 245.84,55.10 248.00,53.80 253.25,50.62 258.25,47.28 263.00,43.38 271.89,36.09 282.29,22.26 285.39,11.00 285.39,11.00 287.00,0.00 287.00,0.00 Z",
                "M 0.00,33.00 C 0.00,33.00 29.00,59.88 29.00,59.88 29.00,59.88 43.57,69.27 43.57,69.27 43.57,69.27 46.00,85.00 46.00,85.00 46.00,85.00 43.17,141.00 43.17,141.00 43.17,141.00 42.09,154.00 42.09,154.00 42.09,154.00 42.09,164.00 42.09,164.00 42.09,164.00 30.81,149.83 30.81,149.83 30.81,149.83 30.81,135.00 30.81,135.00 30.81,135.00 30.81,119.00 30.81,119.00 21.97,123.52 23.19,135.22 20.85,144.00 20.85,144.00 6.00,184.00 6.00,184.00 6.00,184.00 0.00,201.00 0.00,201.00 0.00,201.00 0.00,33.00 0.00,33.00 Z",
                "M 236.09,60.00 C 239.10,67.81 235.49,78.89 236.09,87.00 236.09,87.00 242.14,141.00 242.14,141.00 243.03,147.06 244.01,166.94 242.14,172.00 239.49,163.40 235.63,161.96 231.98,155.00 231.98,155.00 220.19,125.00 220.19,125.00 215.73,116.16 211.18,114.19 208.93,110.72 206.59,107.09 204.12,89.80 204.01,85.00 203.97,83.07 203.77,79.28 204.99,77.73 205.96,76.51 213.62,74.13 216.00,72.88 216.00,72.88 236.09,60.00 236.09,60.00 Z",
                "M 46.00,69.00 C 49.57,69.65 58.08,72.10 59.96,75.39 60.91,77.25 60.13,80.83 59.96,83.00 59.96,83.00 59.17,100.00 59.17,100.00 59.64,105.59 60.08,111.57 61.48,117.00 62.25,120.00 64.64,125.35 64.38,128.00 64.38,128.00 58.89,143.00 58.89,143.00 58.89,143.00 54.00,174.00 54.00,174.00 42.72,167.61 44.98,160.22 45.00,149.00 45.00,149.00 47.00,121.00 47.00,121.00 47.00,121.00 48.00,105.00 48.00,105.00 48.00,105.00 48.82,92.00 48.82,92.00 48.82,87.70 47.06,73.31 46.00,69.00 Z",
                "M 63.00,76.00 C 63.00,76.00 80.00,82.00 80.00,82.00 80.00,82.00 80.00,98.00 80.00,98.00 80.00,98.00 76.00,138.00 76.00,138.00 70.13,134.77 67.07,128.13 65.00,122.00 60.18,107.71 61.80,90.80 63.00,76.00 Z",
                "M 240.00,101.00 C 244.12,104.81 250.38,114.08 254.13,119.00 259.58,126.16 262.94,126.73 263.00,136.00 263.00,136.00 263.00,158.00 263.00,158.00 263.00,158.00 264.00,172.00 264.00,172.00 264.00,172.00 265.08,191.00 265.08,191.00 265.60,195.49 266.75,198.59 265.08,203.00 265.08,203.00 255.00,184.00 255.00,184.00 250.50,193.52 251.76,199.25 242.00,208.00 242.00,208.00 245.00,175.00 245.00,175.00 245.00,175.00 245.96,160.00 245.96,160.00 245.96,160.00 240.00,101.00 240.00,101.00 Z",
                "M 209.00,114.00 C 218.97,118.96 224.16,139.85 228.06,150.00 231.85,159.85 240.56,167.07 242.62,178.00 243.30,181.61 240.94,199.35 240.27,204.00 240.27,204.00 228.87,262.00 228.87,262.00 228.87,262.00 222.66,286.00 222.66,286.00 220.87,294.56 222.72,301.16 214.96,307.07 211.75,309.52 209.89,310.26 206.00,311.00 208.58,304.51 209.91,301.11 210.00,294.00 210.00,294.00 210.00,285.00 210.00,285.00 210.11,276.20 213.21,270.43 215.11,262.00 216.03,257.92 216.99,246.36 217.00,242.00 217.00,242.00 218.17,201.00 218.17,201.00 219.06,191.96 224.36,178.61 223.82,171.00 222.68,155.04 213.71,130.14 209.00,114.00 Z",
                "M 66.00,130.00 C 66.00,130.00 76.00,141.00 76.00,141.00 74.24,148.24 75.01,163.83 75.00,172.00 75.00,172.00 73.31,193.00 73.31,193.00 73.31,193.00 73.31,204.00 73.31,204.00 72.62,211.99 70.83,219.88 71.01,228.00 71.54,251.05 78.60,274.06 87.86,295.00 87.86,295.00 99.76,319.00 99.76,319.00 99.76,319.00 116.21,337.00 116.21,337.00 120.12,342.48 122.67,351.40 124.00,358.00 124.00,358.00 120.00,361.00 120.00,361.00 116.00,354.78 112.20,356.22 110.53,363.00 110.53,363.00 108.61,380.00 108.61,380.00 108.25,381.86 107.99,384.75 106.41,385.98 104.78,387.24 101.02,386.99 99.00,387.00 99.00,387.00 100.00,371.00 100.00,371.00 94.13,374.69 96.00,383.93 96.00,390.00 90.80,386.52 93.99,376.65 94.00,371.00 94.03,352.37 92.55,348.89 87.58,331.00 87.58,331.00 75.58,287.00 75.58,287.00 75.58,287.00 65.42,250.00 65.42,250.00 65.42,250.00 60.92,222.00 60.92,222.00 59.07,210.81 56.02,196.05 56.00,185.00 55.98,172.69 58.41,149.48 62.36,138.01 62.36,138.01 66.00,130.00 66.00,130.00 Z",
                "M 29.00,153.00 C 36.11,156.37 40.62,164.17 45.75,169.96 52.54,177.60 53.94,173.78 54.00,183.00 54.07,194.34 55.56,201.97 57.41,213.00 58.46,219.24 62.07,234.62 60.00,240.00 56.73,234.40 52.20,229.65 47.00,225.76 43.19,222.91 35.31,217.81 33.01,213.83 31.23,210.76 31.08,203.70 30.58,200.00 28.71,186.20 29.00,181.59 29.00,168.00 29.00,168.00 29.00,153.00 29.00,153.00 Z",
                "M 255.00,189.00 C 255.00,189.00 266.62,208.00 266.62,208.00 266.62,208.00 266.62,213.00 266.62,213.00 266.62,213.00 260.43,240.00 260.43,240.00 260.43,240.00 252.94,265.00 252.94,265.00 252.94,265.00 238.86,296.00 238.86,296.00 238.86,296.00 233.00,312.00 233.00,312.00 218.64,304.22 223.97,287.68 227.58,275.00 227.58,275.00 232.88,253.00 232.88,253.00 232.88,253.00 237.79,233.00 237.79,233.00 237.79,233.00 241.52,213.00 241.52,213.00 242.85,209.38 246.01,206.21 248.23,203.00 251.32,198.52 253.22,194.10 255.00,189.00 Z",
                "M 75.00,208.00 C 83.06,221.09 90.81,253.40 91.00,269.00 91.00,269.00 92.04,291.00 92.04,291.00 92.36,295.02 93.52,297.03 92.04,301.00 85.44,284.60 79.96,272.58 76.45,255.00 73.50,240.27 73.98,233.59 74.00,219.00 74.01,213.39 74.02,213.49 75.00,208.00 Z",
                "M 32.00,216.00 C 35.99,218.82 52.01,230.95 54.48,234.01 56.89,237.00 60.78,243.46 62.28,247.00 62.28,247.00 73.85,288.00 73.85,288.00 78.06,303.54 84.37,314.64 73.00,329.00 72.99,311.09 63.83,298.65 56.26,283.00 46.05,261.91 44.61,256.68 37.66,235.00 34.62,225.53 34.04,226.83 32.00,216.00 Z",
                "M 220.00,304.00 C 221.79,308.51 220.99,320.57 221.00,326.00 221.00,326.00 222.00,341.00 222.00,341.00 222.00,341.00 224.02,368.00 224.02,368.00 224.40,373.58 226.83,385.33 225.00,390.00 225.00,390.00 222.43,376.00 222.43,376.00 222.43,376.00 221.00,366.00 221.00,366.00 221.00,366.00 219.00,366.00 219.00,366.00 217.80,376.82 223.32,390.63 220.00,399.00 215.07,388.83 215.91,375.98 213.00,365.00 213.00,365.00 211.00,365.00 211.00,365.00 211.00,365.00 210.00,392.00 210.00,392.00 210.00,392.00 205.80,377.00 205.80,377.00 205.80,377.00 202.27,359.00 202.27,359.00 202.27,359.00 200.00,344.00 200.00,344.00 208.51,340.25 216.22,338.91 217.00,328.00 217.00,328.00 214.00,328.00 214.00,328.00 212.62,342.70 201.31,337.42 193.39,347.04 189.65,351.59 189.54,358.59 185.00,362.00 185.01,350.40 185.98,352.98 189.46,343.00 193.14,332.44 194.75,323.89 203.51,315.30 207.42,311.47 209.63,313.87 220.00,304.00 Z",
                "M 223.00,306.00 C 225.15,307.82 231.46,313.08 232.43,315.30 233.53,317.79 234.00,326.97 234.00,330.00 234.00,330.00 234.00,353.00 234.00,353.00 234.01,361.40 237.70,377.18 235.00,384.00 229.62,373.46 232.65,368.55 227.00,363.00 227.00,363.00 226.00,370.00 226.00,370.00 226.00,370.00 224.09,343.00 224.09,343.00 224.09,343.00 223.00,306.00 223.00,306.00 Z",
                "M 81.00,316.00 C 82.71,319.33 85.30,329.83 86.37,334.00 90.04,348.26 92.17,353.85 92.00,369.00 91.96,372.20 90.93,386.65 90.00,389.00 90.00,389.00 90.00,370.00 90.00,370.00 81.76,375.18 88.27,391.98 86.00,400.00 86.00,400.00 81.00,397.00 81.00,397.00 81.00,397.00 81.00,369.00 81.00,369.00 72.49,373.80 79.71,389.25 77.41,394.59 76.80,396.01 76.08,396.19 75.00,397.00 75.00,372.74 67.80,361.80 72.77,336.00 72.77,336.00 81.00,316.00 81.00,316.00 Z",
                "M 87.09,387.36 C 89.09,387.36 99.18,388.27 99.18,388.27 105.57,388.05 113.91,387.64 113.91,387.64 113.91,387.64 108.27,401.73 108.27,401.73 105.07,410.01 99.55,412.55 99.45,401.09 93.91,412.00 90.37,406.45 90.18,397.27 90.18,397.27 90.09,387.36 90.09,387.36 Z"
            ],
            legs: [
                "M 117.00,6.00 C 117.00,6.00 148.00,4.00 148.00,4.00 148.00,4.00 167.00,4.00 167.00,4.00 167.00,4.00 179.00,2.93 179.00,2.93 179.00,2.93 196.00,2.93 196.00,2.93 198.05,2.48 201.62,1.58 203.36,2.93 205.00,4.39 204.03,15.32 204.00,18.00 204.00,18.00 203.09,28.00 203.09,28.00 203.09,28.00 191.17,121.00 191.17,121.00 190.07,131.96 189.45,143.26 186.87,154.00 185.74,158.70 185.19,163.26 182.00,167.00 176.46,125.05 180.12,105.64 182.91,65.00 183.95,49.93 185.81,20.68 190.00,7.00 183.86,9.97 179.55,17.77 171.00,23.13 158.37,31.48 130.00,38.92 120.01,23.13 117.61,19.13 117.04,10.57 117.00,6.00 Z",
                "M 38.00,10.00 C 48.65,7.20 57.84,5.10 69.00,5.00 68.71,18.19 61.03,38.76 54.19,50.00 50.86,55.47 48.18,60.10 43.00,64.00 43.00,49.13 43.03,39.95 40.73,25.00 40.73,25.00 38.00,10.00 38.00,10.00 Z",
                "M 71.00,6.00 C 78.40,13.00 80.76,16.78 90.00,22.38 92.58,23.95 98.12,25.94 98.48,29.13 98.76,31.69 95.54,37.40 94.43,40.00 94.43,40.00 86.34,62.00 86.34,62.00 81.17,78.56 77.11,95.63 76.21,113.00 76.21,113.00 77.00,126.00 77.00,126.00 77.02,136.64 78.67,153.58 80.81,164.00 81.96,169.64 86.15,177.50 84.69,182.90 83.72,186.47 78.90,188.44 76.00,190.68 68.77,196.26 62.20,206.51 58.00,209.00 57.55,199.33 53.23,188.54 47.18,181.01 41.08,173.42 36.13,173.06 35.42,168.90 35.00,166.46 37.13,161.61 37.84,159.00 39.46,153.09 40.00,147.06 40.86,141.00 40.86,141.00 40.86,94.00 40.86,94.00 41.01,89.86 42.10,72.09 43.39,69.00 43.39,69.00 55.09,52.00 55.09,52.00 62.39,40.22 70.69,19.92 71.00,6.00 Z",
                "M 34.00,163.00 C 34.00,163.00 28.28,129.00 28.28,129.00 28.28,129.00 25.83,99.00 25.83,99.00 25.83,99.00 19.27,55.00 19.27,55.00 19.27,55.00 15.72,26.00 15.72,26.00 15.72,26.00 15.11,15.56 15.11,15.56 15.11,15.56 21.00,12.89 21.00,12.89 21.00,12.89 36.00,10.00 36.00,10.00 38.30,27.05 41.20,40.27 41.00,58.00 41.00,58.00 39.00,90.00 39.00,90.00 39.00,90.00 39.00,131.00 39.00,131.00 38.99,137.98 37.56,157.61 34.00,163.00 Z",
                "M 185.00,12.00 C 186.63,16.24 185.08,20.62 184.43,25.00 184.43,25.00 182.08,46.00 182.08,46.00 182.08,46.00 178.17,92.00 178.17,92.00 177.66,97.38 177.93,108.82 176.50,114.00 175.58,117.37 172.30,121.99 170.34,125.00 165.09,133.07 160.81,140.27 152.00,145.00 149.96,129.53 145.99,106.35 140.58,92.00 140.58,92.00 123.13,57.00 123.13,57.00 121.91,53.63 119.10,29.41 119.00,25.00 125.97,29.36 129.42,32.47 138.00,33.70 153.14,35.88 176.34,24.06 185.00,12.00 Z",
                "M 98.00,36.00 C 99.76,40.44 99.02,52.65 99.00,58.00 99.00,58.00 95.71,100.00 95.71,100.00 95.71,100.00 93.04,115.00 93.04,115.00 93.04,115.00 93.04,125.00 93.04,125.00 93.04,125.00 92.00,143.00 92.00,143.00 91.94,154.60 89.16,161.26 87.00,172.00 83.06,169.29 82.77,163.47 82.13,159.00 82.13,159.00 79.00,126.00 79.00,126.00 79.00,126.00 79.00,109.00 79.00,109.00 79.03,87.59 89.61,55.79 98.00,36.00 Z",
                "M 124.00,64.00 C 128.52,68.97 134.18,81.50 136.80,88.00 145.95,110.68 150.28,138.61 150.00,163.00 149.93,168.65 148.42,183.58 144.00,187.00 144.00,187.00 133.42,148.00 133.42,148.00 129.39,129.63 128.64,110.65 126.83,92.00 126.83,92.00 124.00,64.00 124.00,64.00 Z",
                "M 176.00,119.00 C 176.00,119.00 177.00,140.00 177.00,140.00 177.00,140.00 180.84,171.00 180.84,171.00 180.84,171.00 180.84,183.00 180.84,183.00 180.84,183.00 180.84,192.00 180.84,192.00 180.84,192.00 170.87,207.00 170.87,207.00 170.87,207.00 163.00,223.00 163.00,223.00 160.79,214.81 158.02,209.29 153.85,202.00 152.51,199.67 148.11,192.90 147.65,191.00 147.05,188.49 150.51,175.66 151.20,172.00 151.20,172.00 152.78,158.00 152.78,158.00 152.78,158.00 152.78,148.32 152.78,148.32 153.30,146.52 160.91,140.15 162.91,138.00 167.99,132.54 172.14,125.40 176.00,119.00 Z",
                "M 80.00,171.00 C 72.26,172.32 73.91,179.78 66.00,180.73 56.68,181.85 55.23,170.37 48.00,168.00 51.23,184.94 73.64,190.95 80.00,171.00 Z",
                "M 84.00,187.00 C 88.17,196.05 85.02,211.10 85.00,221.00 85.00,221.00 86.00,245.00 86.00,245.00 86.00,245.00 87.00,263.00 87.00,263.00 86.97,282.63 82.18,303.48 79.42,323.00 79.42,323.00 75.00,355.00 75.00,355.00 75.00,355.00 68.46,342.00 68.46,342.00 58.32,316.08 58.96,278.69 59.00,251.00 59.00,251.00 59.86,235.00 59.86,235.00 59.86,235.00 59.86,226.00 59.86,226.00 59.86,226.00 59.86,214.00 59.86,214.00 61.59,204.25 75.77,191.76 84.00,187.00 Z",
                "M 146.00,194.00 C 152.74,200.30 157.83,213.17 160.42,222.00 163.71,233.19 164.06,236.59 165.17,248.00 165.51,251.53 166.13,253.15 165.91,257.00 165.91,257.00 165.00,269.00 165.00,269.00 164.99,276.16 164.56,280.94 163.20,288.00 161.81,295.15 157.29,310.45 153.00,316.00 148.41,297.79 147.19,278.63 145.91,260.00 145.91,260.00 145.00,250.00 145.00,250.00 144.78,231.26 148.46,212.69 146.00,194.00 Z",
                "M 181.00,195.00 C 183.77,199.20 186.30,211.46 188.02,217.00 193.29,233.95 196.21,241.72 196.00,260.00 195.70,285.31 187.85,302.52 181.42,326.00 177.14,341.67 180.70,349.34 177.00,358.00 168.71,347.05 166.02,345.28 153.00,347.00 146.80,331.39 150.71,328.19 156.72,314.00 156.72,314.00 163.85,294.00 163.85,294.00 166.88,282.94 168.02,267.52 168.00,256.00 168.00,256.00 165.05,226.00 165.05,226.00 166.46,216.95 175.30,202.16 181.00,195.00 Z",
                "M 180.27,428.36 C 181.00,432.27 182.36,436.73 178.82,439.09 172.09,438.00 174.27,427.84 171.31,430.09 167.15,433.26 172.62,447.06 165.13,443.83 160.69,441.92 163.64,436.31 158.78,425.00 153.78,413.39 157.98,408.81 158.00,397.00 158.02,381.78 156.25,380.10 153.92,366.00 152.86,359.57 151.85,353.82 157.22,349.02 165.30,346.16 170.25,352.71 174.07,359.00 180.12,368.94 180.11,374.96 183.70,385.00 187.98,396.99 190.27,399.45 191.18,402.09 191.37,405.63 198.32,416.06 195.73,418.91 193.09,419.18 193.27,419.45 190.82,416.18 190.45,417.82 195.73,424.45 192.82,427.36 192.64,428.36 188.18,427.27 187.45,424.64 186.73,422.00 189.91,431.82 186.73,434.00 183.73,433.27 184.09,434.36 180.27,428.36 Z",
                "M 50.88,439.56 C 53.88,439.12 53.00,432.81 53.00,432.81 53.00,432.81 53.00,427.00 53.00,427.00 53.00,427.00 57.00,427.00 57.00,427.00 57.00,427.00 57.00,437.00 57.00,437.00 57.00,437.00 56.19,443.81 57.56,444.12 62.38,442.75 61.06,436.12 61.06,436.12 61.06,436.12 61.62,431.19 61.62,431.19 63.19,434.44 63.84,434.55 64.00,439.00 64.00,439.00 63.31,446.44 64.81,446.81 68.12,446.56 68.00,439.00 68.00,439.00 68.00,439.00 68.12,432.88 68.12,432.88 72.06,435.23 70.12,436.38 70.19,440.81 70.19,440.81 69.06,448.00 73.94,447.56 77.56,447.75 76.00,440.00 76.00,440.00 76.00,440.00 74.00,427.00 74.00,427.00 83.22,432.07 75.55,448.12 86.98,445.67 89.62,445.10 90.39,443.89 92.00,442.00 92.44,441.12 93.25,440.38 92.81,436.56 92.21,425.74 86.02,423.51 86.00,409.00 85.97,389.93 83.89,395.83 81.84,382.00 80.98,376.14 82.85,374.92 80.90,369.00 76.39,355.30 68.77,351.84 64.15,335.00 60.82,322.84 57.06,298.51 57.00,286.00 57.00,286.00 56.00,272.00 56.00,272.00 56.00,272.00 57.00,252.00 57.00,252.00 57.20,234.54 59.11,210.33 52.94,194.00 49.61,185.21 44.05,176.55 35.00,173.00 35.00,173.00 31.83,217.00 31.83,217.00 31.83,217.00 30.00,238.00 30.00,238.00 30.00,238.00 30.00,261.00 30.00,261.00 30.03,281.46 39.81,306.43 46.33,326.00 48.68,333.05 53.40,346.01 53.91,353.00 54.74,364.42 50.73,366.05 50.22,373.00 49.79,378.98 53.28,381.41 52.82,388.00 52.82,388.00 49.13,405.00 49.13,405.00 47.57,414.05 47.94,424.31 48.12,433.19 48.12,433.19 47.44,438.62 50.88,439.56 Z"
            ],
            contur:
                "M 80.00,79.00 C 77.13,63.24 74.66,47.73 59.00,39.32 48.82,33.86 32.73,34.65 25.80,25.82 18.68,16.74 25.60,0.99 38.00,0.00 34.32,6.58 25.30,8.81 27.28,19.00 29.67,31.32 48.99,30.22 62.00,36.49 75.78,43.13 80.55,58.97 82.57,73.00 85.41,92.71 82.03,106.81 80.17,126.00 80.17,126.00 79.00,168.00 79.00,168.00 79.00,168.00 77.00,193.00 77.00,193.00 77.02,206.29 80.94,211.16 85.14,223.00 88.93,233.70 92.03,244.75 93.58,256.00 95.57,270.59 94.80,300.31 99.88,312.00 103.62,320.62 111.83,325.91 117.67,333.00 122.44,338.78 125.44,346.78 127.26,354.00 128.22,357.82 130.14,367.23 127.83,370.57 126.94,371.85 125.55,372.58 123.98,372.46 118.64,372.06 117.58,364.10 117.00,360.00 113.41,363.90 113.84,367.88 113.13,373.00 113.13,373.00 109.83,398.00 109.83,398.00 108.83,406.34 105.60,410.95 97.00,407.00 93.80,411.59 89.78,410.07 87.00,406.00 76.53,411.25 71.67,398.33 71.09,390.00 71.09,390.00 69.72,375.00 69.72,375.00 68.81,368.64 67.01,362.48 67.01,356.00 67.01,356.00 69.91,326.00 69.91,326.00 69.13,312.63 58.20,294.28 52.26,282.00 43.31,263.51 40.70,254.93 34.33,236.00 34.33,236.00 29.48,222.00 29.48,222.00 27.73,215.21 27.55,206.16 26.83,199.00 26.83,199.00 25.00,182.00 25.00,182.00 25.00,182.00 25.00,168.00 25.00,168.00 25.01,159.07 28.04,140.20 26.00,133.00 25.91,143.17 21.50,152.57 18.05,162.00 11.35,180.35 5.60,191.30 3.00,211.00 3.00,211.00 0.00,211.00 0.00,211.00 0.00,187.28 14.81,165.60 20.85,143.00 22.94,135.16 21.92,121.83 30.81,119.00 30.81,119.00 30.81,136.00 30.81,136.00 30.81,136.00 30.81,148.91 30.81,148.91 30.81,148.91 43.00,164.00 43.00,164.00 43.00,164.00 42.08,154.00 42.08,154.00 42.08,154.00 43.83,135.00 43.83,135.00 43.83,135.00 45.00,114.00 45.00,114.00 45.00,114.00 46.00,101.00 46.00,101.00 46.07,94.27 46.43,75.53 43.57,70.13 41.58,66.38 33.80,64.01 30.00,61.38 22.18,55.97 16.29,48.40 9.59,41.75 6.03,38.23 1.39,34.96 0.00,30.00 0.00,30.00 32.04,59.78 32.04,59.78 32.04,59.78 50.00,66.87 50.00,66.87 50.00,66.87 68.00,74.85 68.00,74.85 68.00,74.85 80.00,79.00 80.00,79.00 Z M 256.00,0.00 C 256.00,0.00 260.00,0.00 260.00,0.00 257.73,26.99 229.78,30.41 214.17,46.17 206.12,54.30 204.03,63.96 204.00,75.00 216.55,72.44 220.80,67.39 231.00,61.20 240.23,55.60 250.54,51.17 258.98,44.33 263.67,40.54 263.46,39.37 266.92,35.74 269.00,33.57 270.45,32.60 272.33,29.96 275.31,25.78 279.93,17.99 281.56,13.17 283.25,8.16 282.15,3.15 287.00,0.00 286.23,16.80 276.92,32.79 264.00,43.38 258.96,47.52 253.59,51.06 248.00,54.40 245.58,55.84 241.44,57.81 240.02,60.21 238.79,62.30 239.00,65.62 239.00,68.00 238.99,73.53 238.49,89.65 239.80,94.00 242.44,102.76 257.08,119.14 263.00,127.00 263.00,127.00 265.00,112.00 265.00,112.00 269.29,114.98 270.97,120.44 273.25,125.00 273.25,125.00 280.57,140.00 280.57,140.00 280.57,140.00 287.87,159.00 287.87,159.00 291.03,166.34 294.54,168.71 295.00,177.00 291.24,174.75 288.06,167.11 285.89,163.00 285.89,163.00 278.40,144.00 278.40,144.00 278.40,144.00 267.00,121.00 267.00,121.00 267.00,121.00 266.05,132.00 266.05,132.00 266.05,132.00 266.05,148.00 266.05,148.00 266.05,148.00 267.00,167.00 267.00,167.00 267.00,167.00 268.04,179.00 268.04,179.00 268.04,179.00 268.04,188.00 268.04,188.00 268.04,188.00 270.00,206.00 270.00,206.00 270.24,226.47 268.66,223.65 263.43,242.00 259.50,255.75 260.55,256.59 254.14,271.00 249.63,281.14 239.96,300.19 237.48,310.00 235.25,318.82 238.11,330.22 238.05,340.00 237.90,348.36 236.76,356.84 238.05,365.17 238.70,368.93 240.85,380.62 239.40,383.72 237.37,388.08 233.42,384.80 231.00,383.00 231.64,388.90 232.54,390.35 230.00,396.00 230.00,396.00 227.00,394.00 227.00,394.00 227.00,394.00 225.00,395.00 225.00,395.00 223.75,405.63 216.10,402.27 215.00,392.00 215.00,392.00 212.00,395.00 212.00,395.00 204.06,392.22 203.82,386.33 202.59,379.00 201.56,372.89 198.01,351.34 196.00,347.00 194.29,351.31 191.50,361.92 186.96,363.34 182.06,364.89 180.91,359.63 181.48,356.00 182.15,351.71 188.87,331.61 191.07,328.00 195.67,320.43 201.47,313.46 204.45,305.00 206.40,299.48 205.99,294.71 206.00,289.00 206.02,277.57 209.80,271.91 211.56,261.00 213.02,251.94 212.99,246.98 213.00,238.00 213.00,238.00 214.00,222.00 214.00,222.00 214.05,211.95 213.52,205.11 215.46,195.00 217.60,183.84 221.37,178.49 219.57,166.00 215.49,137.59 200.37,111.37 200.00,80.00 199.84,66.25 201.08,53.15 212.04,43.30 227.41,29.47 254.81,24.33 256.00,0.00 Z M 236.96,60.00 C 236.96,60.00 215.00,73.39 215.00,73.39 212.71,74.53 206.06,76.38 204.99,77.73 203.77,79.28 203.97,83.07 204.01,85.00 204.12,89.80 206.59,107.09 208.93,110.72 211.18,114.19 215.73,116.16 220.19,125.00 220.19,125.00 231.49,154.00 231.49,154.00 231.49,154.00 243.00,172.00 243.00,172.00 243.00,172.00 243.00,151.00 243.00,151.00 243.00,151.00 236.10,86.00 236.10,86.00 236.10,86.00 236.96,77.00 236.96,77.00 236.96,77.00 236.96,60.00 236.96,60.00 Z M 54.00,174.00 C 54.00,174.00 58.89,143.00 58.89,143.00 58.89,143.00 64.38,128.00 64.38,128.00 64.64,125.35 62.25,120.00 61.48,117.00 60.08,111.57 59.64,105.59 59.17,100.00 59.17,100.00 59.96,83.00 59.96,83.00 60.13,80.83 60.91,77.25 59.96,75.39 58.08,72.10 49.57,69.65 46.00,69.00 47.06,73.31 48.82,87.70 48.82,92.00 48.82,92.00 48.00,105.00 48.00,105.00 48.00,105.00 47.00,120.00 47.00,120.00 47.00,120.00 45.00,149.00 45.00,149.00 44.98,160.22 42.72,167.61 54.00,174.00 Z M 64.00,76.00 C 62.34,79.61 62.05,83.06 62.00,87.00 61.83,101.89 60.79,129.63 76.00,138.00 76.00,138.00 80.00,99.00 80.00,99.00 80.00,99.00 80.00,82.00 80.00,82.00 80.00,82.00 64.00,76.00 64.00,76.00 Z M 240.00,99.00 C 240.00,99.00 239.00,99.00 239.00,99.00 239.00,99.00 240.00,100.00 240.00,100.00 240.00,100.00 240.00,99.00 240.00,99.00 Z M 241.00,101.00 C 238.87,106.38 241.90,119.80 242.72,126.00 242.72,126.00 245.96,163.00 245.96,163.00 245.96,163.00 245.00,174.00 245.00,174.00 245.00,174.00 243.72,194.00 243.72,194.00 243.21,198.18 241.70,204.08 243.00,208.00 255.66,190.12 249.61,195.41 255.00,184.00 255.00,184.00 266.00,203.00 266.00,203.00 266.00,203.00 264.00,175.00 264.00,175.00 264.00,175.00 263.00,159.00 263.00,159.00 263.00,159.00 263.00,137.00 263.00,137.00 262.98,126.75 261.04,127.95 254.89,120.00 254.89,120.00 241.00,101.00 241.00,101.00 Z M 210.00,114.00 C 209.46,118.68 212.52,125.33 213.86,130.00 216.99,140.90 224.63,163.23 223.82,174.00 223.82,174.00 218.17,201.00 218.17,201.00 218.17,201.00 215.83,258.00 215.83,258.00 214.56,269.38 210.02,273.13 210.00,287.00 209.98,298.72 210.46,299.76 206.00,311.00 222.53,307.85 220.05,297.50 222.89,285.00 222.89,285.00 229.12,261.00 229.12,261.00 229.12,261.00 240.27,204.00 240.27,204.00 240.94,199.35 243.30,181.61 242.62,178.00 240.56,167.07 231.85,159.85 228.06,150.00 223.73,138.73 219.68,121.62 210.00,114.00 Z M 67.00,130.00 C 61.88,136.14 61.27,141.40 59.80,149.00 57.39,161.53 55.85,174.24 56.00,187.00 56.00,187.00 60.92,222.00 60.92,222.00 60.92,222.00 65.42,250.00 65.42,250.00 65.42,250.00 75.58,287.00 75.58,287.00 75.58,287.00 87.85,332.00 87.85,332.00 92.78,350.23 94.03,352.02 94.00,371.00 93.99,376.65 90.80,386.52 96.00,390.00 96.00,383.93 94.13,374.69 100.00,371.00 100.00,371.00 99.00,387.00 99.00,387.00 101.02,386.99 104.78,387.24 106.41,385.98 107.99,384.75 108.25,381.86 108.61,380.00 108.61,380.00 110.53,363.00 110.53,363.00 112.20,356.22 116.00,354.78 120.00,361.00 120.00,361.00 124.00,358.00 124.00,358.00 122.67,351.40 120.12,342.48 116.21,337.00 116.21,337.00 99.76,319.00 99.76,319.00 99.76,319.00 87.86,295.00 87.86,295.00 78.61,274.07 74.11,258.74 71.83,236.00 71.38,231.46 70.90,229.90 71.01,225.00 71.01,225.00 73.31,204.00 73.31,204.00 73.31,204.00 73.31,193.00 73.31,193.00 73.31,193.00 75.00,172.00 75.00,172.00 75.01,163.83 74.24,148.24 76.00,141.00 76.00,141.00 67.00,130.00 67.00,130.00 Z M 30.00,153.00 C 30.00,153.00 29.00,163.00 29.00,163.00 29.00,163.00 30.58,200.00 30.58,200.00 30.58,200.00 33.01,213.83 33.01,213.83 33.01,213.83 48.00,226.52 48.00,226.52 48.00,226.52 61.00,240.00 61.00,240.00 61.00,240.00 54.00,186.00 54.00,186.00 54.00,186.00 53.43,177.39 53.43,177.39 53.43,177.39 46.59,170.90 46.59,170.90 46.59,170.90 30.00,153.00 30.00,153.00 Z M 256.00,189.00 C 256.00,189.00 248.90,202.00 248.90,202.00 246.60,205.52 242.91,209.24 241.52,213.00 241.52,213.00 237.79,233.00 237.79,233.00 237.79,233.00 232.88,253.00 232.88,253.00 232.88,253.00 227.29,276.00 227.29,276.00 224.99,284.01 224.43,285.61 223.92,294.00 223.34,303.33 224.07,307.19 233.00,312.00 233.00,312.00 238.86,296.00 238.86,296.00 238.86,296.00 252.94,265.00 252.94,265.00 252.94,265.00 260.43,240.00 260.43,240.00 262.54,232.58 267.78,217.48 266.84,210.00 266.84,210.00 256.00,189.00 256.00,189.00 Z M 76.00,208.00 C 72.79,213.52 73.92,229.09 74.00,236.00 74.18,250.86 79.77,270.19 85.20,284.00 87.26,289.24 89.64,296.66 93.00,301.00 93.00,301.00 91.00,272.00 91.00,272.00 91.00,272.00 88.11,246.00 88.11,246.00 88.11,246.00 81.30,222.00 81.30,222.00 81.30,222.00 76.00,208.00 76.00,208.00 Z M 33.00,216.00 C 32.00,220.79 34.33,225.56 35.95,230.00 35.95,230.00 41.33,247.00 41.33,247.00 45.70,260.15 51.09,272.59 57.25,285.00 57.25,285.00 69.55,310.00 69.55,310.00 73.63,320.11 72.30,324.72 74.00,329.00 74.00,329.00 79.78,313.00 79.78,313.00 79.78,313.00 74.63,291.00 74.63,291.00 74.63,291.00 62.28,247.00 62.28,247.00 62.28,247.00 55.24,235.00 55.24,235.00 55.24,235.00 33.00,216.00 33.00,216.00 Z M 222.00,303.00 C 222.00,303.00 221.00,303.00 221.00,303.00 221.00,303.00 222.00,304.00 222.00,304.00 222.00,304.00 222.00,303.00 222.00,303.00 Z M 221.00,304.00 C 221.00,304.00 212.00,310.52 212.00,310.52 209.16,312.22 205.91,312.95 203.51,315.30 194.75,323.89 193.14,332.44 189.46,343.00 185.98,352.98 185.01,350.40 185.00,362.00 189.54,358.59 189.65,351.59 193.39,347.04 201.31,337.42 212.62,342.70 214.00,328.00 214.00,328.00 217.00,328.00 217.00,328.00 216.22,338.91 208.51,340.25 200.00,344.00 200.00,344.00 202.27,359.00 202.27,359.00 202.27,359.00 205.80,377.00 205.80,377.00 205.80,377.00 210.00,392.00 210.00,392.00 210.00,392.00 211.00,365.00 211.00,365.00 211.00,365.00 213.00,365.00 213.00,365.00 215.39,374.01 215.12,392.70 220.92,399.00 220.92,399.00 220.92,387.00 220.92,387.00 220.92,387.00 219.00,366.00 219.00,366.00 219.00,366.00 221.00,366.00 221.00,366.00 222.79,373.34 222.21,383.52 226.00,390.00 226.00,390.00 223.56,356.00 223.56,356.00 223.56,356.00 222.00,339.00 222.00,339.00 222.00,339.00 221.00,325.00 221.00,325.00 221.00,325.00 221.00,304.00 221.00,304.00 Z M 224.00,305.00 C 224.00,305.00 223.00,323.00 223.00,323.00 223.00,323.00 226.14,370.72 226.14,370.72 226.14,370.72 229.00,394.00 229.00,394.00 230.48,388.36 228.14,370.37 227.00,364.00 233.09,370.17 227.69,380.04 237.00,385.00 237.00,385.00 234.00,352.00 234.00,352.00 233.90,343.40 235.50,322.77 232.92,316.05 231.76,313.03 226.60,308.62 224.00,305.00 Z M 234.00,312.00 C 234.00,312.00 233.00,312.00 233.00,312.00 233.00,312.00 234.00,313.00 234.00,313.00 234.00,313.00 234.00,312.00 234.00,312.00 Z M 82.00,316.00 C 79.03,319.84 78.86,321.86 76.87,326.00 76.87,326.00 73.47,333.00 73.47,333.00 72.51,335.92 72.21,339.93 71.85,343.00 69.18,365.34 75.00,375.36 75.00,397.00 76.08,396.19 76.80,396.01 77.41,394.59 79.71,389.25 72.49,373.80 81.00,369.00 81.00,369.00 81.00,397.00 81.00,397.00 81.00,397.00 86.94,400.00 86.94,400.00 86.27,394.45 84.81,377.87 86.94,373.14 87.76,371.14 88.33,371.05 90.00,370.00 89.85,376.75 87.41,382.83 91.00,389.00 91.00,389.00 92.00,365.00 92.00,365.00 91.97,346.80 84.36,332.74 82.00,316.00 Z M 198.00,346.00 C 198.00,346.00 197.00,346.00 197.00,346.00 197.00,346.00 198.00,347.00 198.00,347.00 198.00,347.00 198.00,346.00 198.00,346.00 Z M 125.00,360.00 C 125.00,360.00 123.00,360.00 123.00,360.00 122.13,363.94 121.55,366.32 125.00,369.00 125.00,369.00 125.00,360.00 125.00,360.00 Z M 107.00,389.00 C 107.00,389.00 99.00,390.00 99.00,390.00 99.00,390.00 100.00,396.00 100.00,396.00 102.60,393.44 103.10,394.15 106.00,396.00 106.00,396.00 107.00,389.00 107.00,389.00 Z M 96.00,392.00 C 96.00,392.00 90.00,391.00 90.00,391.00 90.00,391.00 90.00,399.00 90.00,399.00 90.00,399.00 96.00,403.00 96.00,403.00 96.00,403.00 96.00,392.00 96.00,392.00 Z M 103.00,395.00 C 100.16,398.34 100.21,399.73 100.00,404.00 106.22,402.90 104.99,399.83 103.00,395.00 Z M 84.00,398.00 C 84.00,398.00 82.00,398.00 82.00,398.00 82.00,398.00 82.00,406.00 82.00,406.00 85.02,402.84 84.61,402.19 84.00,398.00 Z M 92.00,400.00 C 89.87,403.37 89.52,405.56 93.00,408.00 93.00,408.00 92.00,400.00 92.00,400.00 Z",
            labelOfRectungle: [
                "n.radialis",
                "n.ulnaris",
                "n.medianus",
                "n.femoralis",
                "n.ischiadicus"
            ],
            colorRect: ["green", "purple", "red", "magenta", "black"],
            stage30Width: 715,
            stage30Height: 600
        };
    },
    methods: {
        fitStageIntoParentContainer() {
            var container = document.querySelector("#stage-parent");

            // now we need to fit stage into parent
            var containerWidth = container.offsetWidth;
            // to do this we need to scale the stage
            var scale = containerWidth / this.stage30Width;
            //var scale = 0.94;

            stage30.width(this.stage30Width * scale);
            stage30.height(this.stage30Height * scale);
            stage30.scale({
                x: scale,
                y: scale
            });
            stage30.draw();
        },

        // adapt the stage on any window resiz

        onStart() {
            const self = this;
            stage30 = new Konva.Stage({
                container: "question_30",
                width: this.stage30Width,
                height: this.stage30Height
            });
            var layer = new Konva.Layer();

            stage30.add(layer);
            var group = new Konva.Group();
            var tempLayer = new Konva.Layer();
            stage30.add(tempLayer);
            var answerList = [];
            var path;
            var rectungle;
            var text;

            var borderOfRect;
            for (var i = 0; i < this.list.length; i++) {
                path = new Konva.Path({
                    y: 160,
                    fill: "#f5f5f5",
                    data: this.list[i],
                    name: "a path piece " + i,
                    numPoints: 10,
                    innerRadius: 20,
                    outerRadius: 25
                });
                layer.add(path);
            }

            for (var i = 0; i < this.list.length; i++) {
                path = new Konva.Path({
                    x: 440,
                    y: 160,
                    fill: "#f5f5f5",
                    data: this.legs[i],
                    name: "part of leg " + i,
                    numPoints: 10,
                    innerRadius: 20,
                    outerRadius: 25,
                    scaleX: 0.95,
                    scaleY: 0.95
                });
                layer.add(path);
            }
            Konva.Image.fromURL(
                `${this.currentUrl}/test-img/legs_30.png`,
                function(darthNode) {
                    darthNode.setAttrs({
                        x: 440,
                        y: 160,
                        scaleX: 0.95,
                        scaleY: 0.95,
                        innerRadius: 20,
                        outerRadius: 25
                    });
                    tempLayer.add(darthNode);
                    tempLayer.batchDraw();
                }
            );
            var borders;
            borders = new Konva.Path({
                y: 160,
                fill: "black",
                data: this.contur,
                numPoints: 10,
                innerRadius: 20,
                outerRadius: 25,
                shadowOffsetX: 1,
                shadowOffsetY: 1
            });
            tempLayer.add(borders);
            tempLayer.draw();
            layer.draw();
            for (var i = 0; i < 5; i++) {
                if (i >= 3) {
                    borderOfRect = new Konva.Rect({
                        cornerRadius: 5,
                        x: 5 + i * 210 - 630,
                        y: 70,
                        width: 198,
                        height: 52,
                        fill: "#f5f5f5",
                        stroke: "#e6e6e6",
                        strokeWidth: 1
                    });
                    group.add(borderOfRect);
                    rectungle = new Konva.Rect({
                        cornerRadius: 5,
                        x: 30 + i * 210 - 630,
                        y: 83,
                        width: 25,
                        height: 25,
                        name: "rectungle" + i,
                        fill: this.colorRect[i],
                        draggable: true
                    });
                    group.add(rectungle);
                    rectungle = new Konva.Rect({
                        cornerRadius: 5,
                        x: 30 + i * 210 - 630,
                        y: 83,
                        width: 25,
                        height: 25,
                        name: "rectungle" + i,
                        fill: this.colorRect[i],
                        draggable: true
                    });
                    group.add(rectungle);
                    group.add(borderOfRect);
                    rectungle = new Konva.Rect({
                        cornerRadius: 5,
                        x: 30 + i * 210 - 630,
                        y: 83,
                        width: 25,
                        height: 25,
                        name: "rectungle" + i,
                        fill: this.colorRect[i],
                        draggable: true
                    });
                    group.add(rectungle);
                    rectungle = new Konva.Rect({
                        cornerRadius: 5,
                        x: 30 + i * 210 - 630,
                        y: 83,
                        width: 25,
                        height: 25,
                        name: "rectungle" + i,
                        fill: this.colorRect[i],
                        draggable: true
                    });
                    group.add(rectungle);
                    text = new Konva.Text({
                        x: 65 + i * 210 - 630,
                        y: 84,
                        draggable: false,
                        fill: "black",
                        text: this.labelOfRectungle[i]
                    });
                    text.fontSize(22);
                    group.add(text);
                } else {
                    borderOfRect = new Konva.Rect({
                        cornerRadius: 5,
                        x: 5 + i * 210,
                        y: 5,
                        width: 198,
                        height: 52,
                        fill: "#f5f5f5",
                        stroke: "#e6e6e6",
                        strokeWidth: 1
                    });
                    group.add(borderOfRect);
                    rectungle = new Konva.Rect({
                        cornerRadius: 5,
                        x: 29 + i * 210,
                        y: 18,
                        width: 25,
                        height: 25,
                        name: "rectungle" + i,
                        fill: this.colorRect[i],
                        draggable: true
                    });
                    group.add(rectungle);
                    rectungle = new Konva.Rect({
                        cornerRadius: 5,
                        x: 29 + i * 210,
                        y: 18,
                        width: 25,
                        height: 25,
                        name: "rectungle" + i,
                        fill: this.colorRect[i],
                        draggable: true
                    });
                    group.add(rectungle);
                    rectungle = new Konva.Rect({
                        cornerRadius: 5,
                        x: 29 + i * 210,
                        y: 18,
                        width: 25,
                        height: 25,
                        name: "rectungle" + i,
                        fill: this.colorRect[i],
                        draggable: true
                    });
                    group.add(rectungle);
                    rectungle = new Konva.Rect({
                        cornerRadius: 5,
                        x: 29 + i * 210,
                        y: 18,
                        width: 25,
                        height: 25,
                        name: "rectungle" + i,
                        fill: this.colorRect[i],
                        draggable: true
                    });
                    group.add(rectungle);
                    text = new Konva.Text({
                        x: 65 + i * 210,
                        y: 20,
                        draggable: false,
                        fill: "black",
                        text: this.labelOfRectungle[i]
                    });
                    text.fontSize(22);
                    group.add(text);
                }
            }
            borderOfRect = new Konva.Rect({
                cornerRadius: 5,
                x: 425,
                y: 70,
                width: 198,
                height: 52,
                fill: "#f5f5f5",
                stroke: "#e6e6e6",
                strokeWidth: 1
            });
            group.add(borderOfRect);
            var clear_rectungle;
            clear_rectungle = new Konva.Rect({
                cornerRadius: 5,
                x: 450,
                y: 83,
                width: 25,
                height: 25,
                fill: "#f5f5f5",
                name: "Clear",
                stroke: "black",
                strokeWidth: 2,
                draggable: false
            });
            group.add(clear_rectungle);

            text = new Konva.Text({
                x: 485,
                y: 84,
                draggable: false,
                fill: "black",
                text: "Очистить"
            });
            text.fontSize(22);
            group.add(text);
            tempLayer.add(group);
            tempLayer.draw();

            stage30.on("dragstart", function(e) {
                e.target.moveTo(tempLayer);
                this.colorRect = e.target.fill();
                //console.log("Moving " + e.target.name());
                layer.draw();
            });

            var previousShape;
            stage30.on("dragmove", function(evt) {
                var pos = stage30.getPointerPosition();
                var shape = layer.getIntersection(pos);
                if (previousShape && shape) {
                    if (previousShape !== shape) {
                        // leave from old targer
                        previousShape.fire(
                            "dragleave",
                            {
                                type: "dragleave",
                                target: previousShape,
                                evt: evt.evt
                            },
                            true
                        );

                        // enter new targer
                        shape.fire(
                            "dragenter",
                            {
                                type: "dragenter",
                                target: shape,
                                evt: evt.evt
                            },
                            true
                        );
                        previousShape = shape;
                    } else {
                        previousShape.fire(
                            "dragover",
                            {
                                type: "dragover",
                                target: previousShape,
                                evt: evt.evt
                            },
                            true
                        );
                    }
                } else if (!previousShape && shape) {
                    previousShape = shape;
                    shape.fire(
                        "dragenter",
                        {
                            type: "dragenter",
                            target: shape,
                            evt: evt.evt
                        },
                        true
                    );
                } else if (previousShape && !shape) {
                    previousShape.fire(
                        "dragleave",
                        {
                            type: "dragleave",
                            target: previousShape,
                            evt: evt.evt
                        },
                        true
                    );
                    previousShape = undefined;
                }
            });
            var ansKube30 = {};
            stage30.on("dragend", function(e) {
                var pos = stage30.getPointerPosition();
                var shape = layer.getIntersection(pos);
                if (shape) {
                    previousShape.fire(
                        "drop",
                        {
                            type: "drop",
                            target: previousShape,
                            evt: e.evt
                        },
                        true
                    );
                }
                if (previousShape != undefined) {
                    ansKube30.numOfRect = e.target.name();
                    answerList.push(ansKube30);
                    self.answers.push({
                        result: `${ansKube30.numOfPath} ${ansKube30.numOfRect}`
                    });
                    e.target.destroy();
                    ansKube30 = {};
                }
                previousShape = undefined;
                layer.draw();
                tempLayer.draw();
            });

            stage30.on("dragenter", function(e) {
                //e.target.fill("red");
                //console.log("dragenter " + e.target.name());
                layer.draw();
            });

            stage30.on("dragleave", function(e) {
                e.target.fill("#f5f5f5");
                //console.log("dragleave " + e.target.name());
                layer.draw();
            });

            stage30.on("dragover", function(e) {
                //console.log("dragover " + e.target.name());
                layer.draw();
            });

            stage30.on("drop", function(e) {
                e.target.fill(this.colorRect);
                //console.log("drop " + e.target.name());
                ansKube30.numOfPath = e.target.name();
                //console.log(answerList);
                e.target.moveTo(tempLayer);
                this.colorRect = "";
                layer.draw();
            });
            this.fitStageIntoParentContainer();
            clear_rectungle.on("click", this.onStart);
            clear_rectungle.on("tap", this.onStart);
        },

        equalArrays(a, b) {
            if (a.length !== b.length) return false;
            const ser = o =>
                JSON.stringify(
                    Object.keys(o)
                        .sort()
                        .map(k => [k, o[k]])
                );
            a = new Set(a.map(ser));
            return b.every(o => a.has(ser(o)));
        }
    },
    mounted() {
        if (!this.completed) this.onStart();
    },
    created() {
        this.currentUrl = window.location.origin;
        window.addEventListener("resize", this.fitStageIntoParentContainer);
    },
    watch: {
        answers: {
            handler: function(newVal, oldVal) {
                this.$emit("answer", {
                    question_index: 30,
                    answer: [
                        {
                            result: this.equalArrays(
                                this.answers,
                                this.correctAnswers
                            )
                        }
                    ]
                });
            },
            deep: true
        }
    },
    computed: {
        currentQuestionAnswers() {
            if (!this.serverAnswers) {
                return null;
            }

            return this.serverAnswers.find(x => x.question_index == "30");
        },
        correct() {
            if (!this.serverAnswers) {
                return null;
            }

            try {
                if (this.currentQuestionAnswers.answer[0].result) {
                    return 1;
                } else {
                    return 0;
                }
            } catch (error) {
                return 0;
            }
        }
    }
};
</script>

<style>
body {
    margin: 0;
    padding: 0;
}
</style>
